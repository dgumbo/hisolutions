#############    Prepare Environment For Setup.    #############

1. $ sudo apt-get update && sudo apt-get upgrade

## enable search history searches by page up/down
2. $ sudo nano /etc/inputrc
# uncomment lines below
# under	# alternate mappings for "page up" and "page down" to search the history
 	"\e[5~": history-search-backward
 	"\e[6~": history-search-forward

## install Java 8
3. $ sudo apt-get install default-jdk
   $ sudo add-apt-repository ppa:webupd8team/java
   $ sudo apt-get update

   $ sudo update-alternatives --config java
   $ sudo nano /etc/environment

   # set java home variable like below from alternatives above.
     JAVA_HOME=""

   # reload sources paths
   $ source /etc/environment

   # check for java_home
   $ echo $JAVA_HOME

## install Maven
4. $ sudo apt-get install maven

## install NodeJS latest >=v10 && Node Package Manager npm
5. $ curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
   $ sudo apt-get install -y nodejs
   $ sudo apt-get install -y build-essential

## install Node Package Manager npm
6. $ npm install -g @angular/cli

## configure routing and port fowarding.
7. $ sudo iptables -A PREROUTING -t nat -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 8080
8. $ sudo apt-get install iptables-persistent

9. $ sudo apt-get update && sudo apt-get upgrade
10. $ sudo reboot


##################     Setup the Application If Environment Ready      #####################

## increase mvn virtual memory
1. $ export MAVEN_OPTS="-Xmx2048m"
   $ export _JAVA_OPTIONS="-Xms1024m -Xmx1024m -XX:MaxPermSize=512m"

## clone project from git
2. $ git clone https://github.com/dgumbo/hisolutions.git 
   $ cd hisolutions

## check if project builds correctly.
3. mvn clean install

## check if project runs - backend project - using java -jar
4. $ mvn clean package --pl backend -P production && java -jar backend/target/hisolutions-backend-1.0.0.war

## browse to project folder
adduser his
password his

sudo chown his:his hisolutions-backend-1.0.0.war


## upgrade all upgradable nodejs packages
   $ npm install i -g npm-check-updates
   $ ncu -u



